import{f as u,c as m,k as h,a as s,o,l as f,b as t,t as g,d as x,w as v,r as _,n as F,F as y,j as E}from"./index-BIVXEOUW.js";const C={key:0,class:"fixed inset-0 bg-[rgba(0,0,0,0.75)] flex justify-center items-center z-50"},j={class:"bg-[#FFFEEF] p-8 rounded-lg shadow-xl text-center"},A={class:"text-xl font-bold mb-4"},D={class:"background-out flex justify-center items-center"},B={class:"background-in"},S={class:"head-setting mb-15"},M={class:"space-y-5"},N={class:"small-box bg-[#1D1A05] md:px-12 md:py-10"},R={key:0,class:"text-sm md:text-base font-bold text-[#3A9CFF] mt-1"},V={key:1,class:"text-sm md:text-base font-bold text-[#FF0000] mt-1"},z={class:"small-box bg-[#1D1A05] mt-5 md:px-12 md:py-10"},T={key:0,class:"text-sm md:text-base font-bold text-[#3A9CFF] mt-1"},G={key:1,class:"text-sm md:text-base font-bold text-[#FF0000] mt-1"},P={class:"mt-45 md:mt-56"},$={class:"text-sm md:text-base font-bold mt-1"},q={key:0,class:"text-gray-500"},H={key:1,class:"text-blue-500"},I={key:2,class:"text-red-500"},J={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"#1D1A05",class:"w-6 h-6 md:w-8 md:h-8"},Q={__name:"Education",setup(K){const b=E(),n=u("none"),d=u("none"),l=u(!1),i=u(""),w=m(()=>n.value==="none"?"none":"valid"),c=m(()=>n.value==="pass"?"valid":n.value==="expire"?"expired":"none"),a=m(()=>d.value==="pass"?"pass":"none");h(async()=>{try{const r=await fetch("https://doldariback-production.up.railway.app/api/user/education",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(r.ok){const e=await r.json();n.value=e?.education??"none",d.value=e?.test??"none"}else n.value="none",d.value="none"}catch{n.value="none",d.value="none"}c.value==="expired"?(i.value="재교육 대상자입니다.",l.value=!0):c.value==="none"&&(i.value="기초교육 대상자입니다.",l.value=!0)});const k=()=>{if(w.value==="none"){i.value="기초교육을 완수해야합니다.",l.value=!0;return}a.value!=="pass"&&b.push("/education/test")};return(r,e)=>{const p=_("router-link");return o(),s(y,null,[l.value?(o(),s("div",C,[t("div",j,[t("p",A,g(i.value),1),t("button",{onClick:e[0]||(e[0]=L=>l.value=!1),class:"bg-[#1D1A05] hover:bg-black text-[#FFEA00] font-bold py-2 px-8 rounded"}," 확인 ")])])):f("",!0),t("div",D,[t("div",B,[t("header",S,[x(p,{to:"/main",class:"heed-text"},{default:v(()=>[...e[1]||(e[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"#78711D",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})],-1)])]),_:1}),e[2]||(e[2]=t("h1",{class:"text-3xl font-bold text-[#78711D]"},"안전 교육",-1)),e[3]||(e[3]=t("p",null,null,-1))]),t("main",M,[x(p,{to:"/educationview"},{default:v(()=>[t("div",N,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-lg md:text-2xl font-bold text-[#FFEC17]"}," 건설업 기초안전보건교육 ",-1)),w.value==="valid"?(o(),s("p",R," 이수 ")):(o(),s("p",V," 미이수 "))]),e[5]||(e[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"white",class:"w-6 h-6 md:w-8 md:h-8"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1))])]),_:1}),x(p,{to:"/educationview"},{default:v(()=>[t("div",z,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-lg md:text-2xl font-bold text-[#FFEC17]"}," 정기 안전보건교육 ",-1)),c.value==="valid"?(o(),s("p",T," 이수 ")):(o(),s("p",G," 미이수 "))]),e[7]||(e[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"white",class:"w-6 h-6 md:w-8 md:h-8"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1))])]),_:1})]),t("footer",P,[t("div",{onClick:k,class:F(["small-box",a.value==="pass"?"cursor-not-allowed":"cursor-pointer","bg-[#FFEC17]","md:px-12 md:py-10"])},[t("div",null,[e[8]||(e[8]=t("p",{class:"text-lg md:text-2xl font-bold text-[#1D1A05]"}," 안전 시험 ",-1)),t("p",$,[a.value==="none"?(o(),s("span",q,"미응시")):a.value==="pass"?(o(),s("span",H,"합격")):a.value==="fail"?(o(),s("span",I,"불합격")):f("",!0)])]),(o(),s("svg",J,[...e[9]||(e[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"},null,-1)])]))],2)])])])],64)}}};export{Q as default};
